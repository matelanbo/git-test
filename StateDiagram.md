# State Diagram
The following state diagram provides a comprehensive overview of the game process governed by the  **ShuffleManager** contract. Please be aware that this diagram is a full descrption of the state transitions within the contract. The most intermediate procedures, such as encryption, are encapsulated into **zkshuffle** library. Therefore, SDK users will not implement these intermediate steps themself.

To initiate a new game, it must first be created with a supported size. Upon creation, the manager contract assigns a unique ID to this game and transfers it into the registration state. Within this phase, the manager contract accommodates player registrations until all available slots are filled. Players must provide a valid public key during registration, with all keys eventually aggregated into a single, collective public key. Once the final player has registered, the manager contract moves the game into the shuffle state. In this state, each play will correctly shuffle and encrpyt the cards. After the last player has shuffled their cards, the game switches into the cards dealing state. In this state, cards will be  dealt to players and the decrypted cards will be updated. Upon completion of the dealing process, the manager contract advances the game to the cards opening state. During this stage, each player will reveal specified cards, with the decrypted cards being updated accordingly. After all players have openned their cards, based on specific game logic, the game will conclude if the winner is determined, otherwise it will return to the dealing state and continue the cycle.
![Image text](https://github.com/matelanbo/git-test/blob/main/stateDiagram.svg)
